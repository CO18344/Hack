{% load static %}
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>

 <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js" 
          integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" 
            crossorigin="anonymous"></script>
    <style>


    .main-container{
      display: flex;
      flex-direction: column;
    }

    .container{
      width: 70%;
      display: flex;
      justify-content: center;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 50px;

    }

    .heading{
      width: 100%;
    }

    .heading-back{
      padding-top: 18px;
      background-color: white;
      height: 75px;
      margin-bottom: 20px;
    }

    body{
      background: linear-gradient(to right, rgb(224, 234, 252), rgb(207, 222, 243));
    }
    

.chart-container {
  position: relative;
  margin: auto;
  width: 100vw;
}

.container-fluid{
  display: flex;
  flex-direction: row;
}

    .language{
      position: relative;
      background-color: white;
      box-shadow: 0 14px 28px 0 rgba(0,0,0,.8);
      width: 100%;
      min-height: 250px;

      
    }

    .bdge{
      position: absolute;
      top: -45px;
      right: -45px;
    }

    .language-content{
      margin: 15px;
    }

    #cpp{
      margin-left: auto;
      margin-right: 45px;
    }

    #cpp:hover,#python:hover{
      box-shadow:0 14px 28px 0 rgba(0,0,0,.6); ;
    }

    #python{
      margin-right: auto;
      margin-left: 45px;
    }

    .btn-success{
      width: 225px;
      height: 50px;
      background-color: white;
      border-color: #4CAF50;
      border-width: 2px;
      color: black;
    }

    .btn-success:focus{
      background-color: transparent; /* Green */
      border-color: #4CAF50;
      color: black;
    }

    .btn-success:hover {
    background-color: #4CAF50; /* Green */
    border-color: #4CAF50;
    border-width: 2px;
    color: white;
    }

    .box-left{
          margin-left: auto;
          margin-right: 45px;
    }

    .box-right{
          margin-right: auto;
          margin-left: 45px;
    }

/* Paste this css to your style sheet file or under head tag */
/* This only works with JavaScript, 
if it's not present, don't show loader */
    .no-js #loader { display: none;  }
    .js #loader { display: block; position: absolute; left: 100px; top: 0; }
    .se-pre-con {
    	position: fixed;
    	left: 0px;
    	top: 0px;
    	width: 100%;
    	height: 100%;
    	z-index: 9999;
    	background: url(https://smallenvelop.com/wp-content/uploads/2014/08/Preloader_11.gif) center no-repeat #fff;
    }

</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
<script>
//paste this code under the head tag or in a separate js file.
	// Wait for window load
	$(window).load(function() {
		// Animate loader off screen
		$(".se-pre-con").fadeOut("slow");;
	});
</script>

</head>

<body>
<div class="se-pre-con"></div>

<header>
  <nav style="background: linear-gradient(to right, rgb(55, 59, 68), rgb(66, 134, 244));" class="navbar navbar-expand-sm navbar-dark fw-bolder">
    <div class="mx-auto d-sm-flex d-block flex-sm-nowrap">
        <a class="navbar-brand" href="/dashboard/">CodeRS</a>
        <img style="margin-left: -10px;" src="{% static 'c-program.svg'%}" width="35" height="35">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample11" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse text-center" id="navbarsExample11">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/pending/">Leaderboard</a>
        </li>

        <li class="nav-item">
          <a class="nav-link active" href="/pending/">About</a>
        </li>

        <li class="nav-item">
          <a class="nav-link active" href="/pending/">Code Playground</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
          <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
        </svg>
            {{user}}
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="/pending/">Profile</a></li>
            {% if request.user.is_admin %}
            <li><a class="dropdown-item" href="/download/">Record</a></li>
            {% endif %}
            <li><a class="dropdown-item" href="/pending/">Score <b><span style="color:darkgreen; float:right">{{request.user.score}}</span></b></a></li>
            <li><a class="dropdown-item" href="/pending/">Settings</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/logout/">Logout</a></li>
          </ul>
        </li>
      </ul>
        </div>
    </div>
  </nav>
</header>

<div class="heading-back">
<div class="container">

  <div class="heading">
    <h2>Dashboard</h2>
  </div>

</div>
</div>

<div class="main-container">
  <div class="container">
    <div style="background-color:white;" class="chart-container">    
    <canvas id="myChart">
    </canvas>
    </div>


  </div>

  <div class="container">
    <div style="width:100%">
        <h4>Your Skills</h4>
    </div>
  </div>
    
<div class="container">
  <div class="language" id="cpp">
    <img src="{% static 'cpp.png' %}" width="120" height="120" class="bdge"/>
    <div class="language-content">
      <p class="text-secondary">LANGUAGE PRACTICE</p>  
    </div>
    
    <div class="language-content">
      <h2>C++</h2>   
    </div>

    <div class="progress language-content">
      <div style="width:{{cppPer}}%" class="progress-bar" role="progressbar" aria-valuenow="{{cppPer}}" aria-valuemin="0" aria-valuemax="100">
      </div>
    </div>

    <p class="language-content"><b>{{cppPer}}%</b></p>

    <a class="language-content" href="/dashboard/problems?id=1" type="button">
    <button class="btn btn-success shadow-none">Continue Practice</button>
    </a>
  </div>

  <div class="language" id="python">
    <img style="right: -55px;" src="{% static 'python.png' %}" width="140" height="130" class="bdge"/>
    <div class="language-content">
      <p class="text-secondary">LANGUAGE PRACTICE</p>  
    </div>
    
    <div class="language-content">
      <h2>Python</h2>  
    </div>

    <div class="progress language-content">
      <div style="width:{{pyPer}}%" class="progress-bar" role="progressbar" aria-valuenow="pyPer" aria-valuemin="0" aria-valuemax="100">
      </div>
    </div>

    <p class="language-content"><b>{{pyPer}}%</b></p>

    <a class="language-content" href="/dashboard/problems?id=2" type="button">
    <button class="btn btn-success shadow-none">Continue Practice</button>
    </a>
  </div>
</div>

<div class="container">
  <div style="width:100%">
      <h4>Tutorials</h4>
  </div>
</div>
    
<div class="container">
  <div class="language box-left">
    <div class="language-content">
      <p class="text-secondary">Tutorial</p>  
    </div>
    
    <div class="language-content">
      <h2>Java script</h2>   
    </div>
    <p class="language-content text-secondary">
      JavaScript is easy to learn. JavaScript is the world's most popular programming language.
      This tutorial will teach you JavaScript from basic to advanced.
    </p>

    <a class="language-content" href="https://www.w3schools.com/js/" type="button">
    <button class="btn btn-success shadow-none">View Tutorial</button>
    </a>
  </div>

  <div class="language box-right">
    <div class="language-content">
      <p class="text-secondary">Tutorial</p>  
    </div>
    
    <div class="language-content">
      <h2>Django</h2>   
    </div>
    <p class="language-content text-secondary">
      Django is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. It is built by experienced developers.
      This tutorial will teach you Django.
    </p>
    <a class="language-content" href="https://www.djangoproject.com/start/" type="button">
    <button class="btn btn-success shadow-none">View Tutorial</button>
    </a>
  </div>
</div>

<div class="container">
  <div class="language box-left" >
    <div class="language-content">
      <p class="text-secondary">Tutorial</p>  
    </div>
    
    <div class="language-content">
      <h2>C++</h2>   
    </div>
    <p class="language-content text-secondary">
      C++ is a popular programming language. It is used to create and develop computer programs.
      This tutorial will help you learn C++ in great detail.
    </p>
    <a class="language-content" href="https://www.w3schools.com/cpp/" type="button">
    <button class="btn btn-success shadow-none">View Tutorial</button>
    </a>
  </div>

  <div class="language box-right" >
    <div class="language-content">
      <p class="text-secondary">Tutorial</p>  
    </div>
    
    <div class="language-content">
      <h2>Php</h2>   
    </div>
    <p class="language-content text-secondary">
    PHP is a server scripting language, and a powerful tool for making dynamic and interactive  Web pages.
    PHP is a widely-used, free, and efficient alternative to competitors such as Microsoft's ASP.
    </p>
    <a class="language-content" href="https://www.w3schools.com/php/" type="button">
    <button class="btn btn-success shadow-none">View Tutorial</button>
    </a>
  </div>
  
</div>

<script>
var xValues = {{x|safe}}
var yValues = {{y|safe}}
var barColors =[
      'rgba(255, 99, 132, 0.2)',
      'rgba(255, 159, 64, 0.2)',
      'rgba(255, 205, 86, 0.2)',
      'rgba(75, 192, 192, 0.2)',
      'rgba(54, 162, 235, 0.2)',
      'rgba(153, 102, 255, 0.2)',
      'rgba(255,99,132,0.2)'
      ]
var borderCol = [
      'rgb(255, 99, 132)',
      'rgb(255, 159, 64)',
      'rgb(255, 205, 86)',
      'rgb(75, 192, 192)',
      'rgb(54, 162, 235)',
      'rgb(153, 102, 255)',
      'rgba(255,99,132,1)'
    ]

new Chart("myChart", {
  type: "bar",
  data: {

    labels: xValues,
    datasets: [{
      label: 'Questions Solved',
      backgroundColor: barColors,
      barThickness:10,
      borderColor:borderCol,
      hoverBackgroundColor:[
      'rgb(255, 99, 132)',
      'rgb(255, 159, 64)',
      'rgb(255, 205, 86)',
      'rgb(75, 192, 192)',
      'rgb(54, 162, 235)',
      'rgb(153, 102, 255)',
      'rgba(255,99,132,0.4)'
      ],
          borderWidth: 2,
      data: yValues
    }]
  },
  options: {
  animations: {

      tension: {
        duration: 6000,
        easing: 'linear',
        from: 1,
        to: 0,
        loop: true
      }
    },
    legend: {display: true,
                labels: {
                    color: 'rgb(255, 99, 132)'
                }
    },
    title: {
      display: true,
      text: "Questions solved past 7 days"
    },
    scales: {
              yAxes: [
                  {
                    scaleLabel: {
                        display: true,
                        labelString: 'Number of Questions'
                      },
                    ticks: {
                      display:true,
                        beginAtZero: true,
                        stepSize: 1,
                        }
                  }
            ],
            xAxes: [
                  {
                    scaleLabel: {
                        display: true,
                        labelString: 'Day'
                      },
                  }
            ],


      }
    }
});

</script>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</body>
</html>